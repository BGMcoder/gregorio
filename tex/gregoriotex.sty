%GregorioTeX file.
%Copyright (C) 2007 Elie Roux <elie.roux@enst-bretagne.fr>
%
%This program is free software: you can redistribute it and/or modify
%it under the terms of the GNU General Public License as published by
%the Free Software Foundation, either version 3 of the License, or
%(at your option) any later version.
%
%This program is distributed in the hope that it will be useful,
%but WITHOUT ANY WARRANTY; without even the implied warranty of
%MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%GNU General Public License for more details.
%
%You should have received a copy of the GNU General Public License
%along with this program.  If not, see <http://www.gnu.org/licenses/>.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{gregoriotex}%
    [2009/09/26 v0.93 GregorioTeX system.]

\input gregoriotex.tex

\def\greinitialformat#1{%
\begin{huge}#1\end{huge}%
\relax %
}

\def\grebiginitialformat#1{%
\begin{Huge}#1\end{Huge}%
\relax %
}

\def\greitalic#1{%
\textit{#1}%
\relax %
}

\def\gresmallcaps#1{%
\textsc{#1}%
\relax %
}

\def\greboldfont#1{%
\textbf{#1}%
\relax %
}

\def\grett#1{%
\texttt{#1}%
\relax %
}

\def\greul#1{%
\underline{#1}%
\relax %
}

\def\coloredlines#1#2#3{%
\definecolor{gretempcolor}{RGB}{#1,#2,#3}%
\global\def\stafflinesformat{%
\color{gretempcolor}\relax}
\relax %
}

\def\redlines{%
\coloredlines{229}{53}{44}%
\relax %
}

\def\normallines{%
\global\def\stafflinesformat{}
\relax %
}

% opening and closing of the aux file. We can't do it another way,
% because of the case of several scores. We do it only in the case
% it's useful, meaning with LuaTeX

\ifgreluatex
  \AtBeginDocument{\opengreaux }
  \AtEndDocument{\closegreaux }
\fi